# Exclusive Time of Functions
Medium

* This question actually took some time for me to solve.
* at the end when i was about to give up and saw the solution at chatgpt i saw that i was doing correct and was missing one liner time addition condition.

# SOLUTION 1:
PYTHON
```python
class Solution:
    def exclusiveTime(self, n: int, logs: List[str]) -> List[int]:
        ans = [0]*n # will store total duration
        stack = [] 
        prevTime=0
        for i in logs:
            index = int(i.split(':')[0])
            work = i.split(':')[1]
            time = int(i.split(':')[2])
            if work=="start":
                if stack:
                    ans[stack[-1]]+= time - prevTime
                stack.append(index)
                prevTime= time
            else:
                ans[stack.pop()] += time - prevTime +1
                prevTime = time+1
        return ans
```



# Solution cpp
Cpp solution was kind of difficult to parse 
```cpp
class Solution {
public:
    vector<int> exclusiveTime(int n, vector<string>& logs) {
        vector<int> res(n, 0);
        stack<int> st;
        int prev_time = 0;

        for (string& log : logs) {
            int id, time;
            string type;

            // parsing "id:type:time"
            int p1 = log.find(':');
            int p2 = log.find(':', p1 + 1);

            id = stoi(log.substr(0, p1));
            type = log.substr(p1 + 1, p2 - p1 - 1);
            time = stoi(log.substr(p2 + 1));

            if (type == "start") {
                if (!st.empty()) {
                    res[st.top()] += time - prev_time;
                }
                st.push(id);
                prev_time = time;
            } 
            else { // end
                res[st.top()] += time - prev_time + 1;
                st.pop();
                prev_time = time + 1;
            }
        }
        return res;
    }
};
```
